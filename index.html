<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŒåä¸€å¹¸è¿è½¬ç›˜ - å®‰å…¨ç‰ˆ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- å¼¹çª— -->
    <div class="modal-overlay" id="modal">
        <div class="modal lottery-modal">
            <div class="modal-header">
                <div class="modal-title">
                    <div class="modal-icon">ğŸ</div>
                    <span>åŒåä¸€å¹¸è¿æŠ½å¥–</span>
                </div>
                <button class="modal-close" id="modalClose">âœ•</button>
            </div>

            <div class="lottery-container" id="lotteryContainer">
                <h2 class="lottery-title">åŒåä¸€å¹¸è¿å¤§è½¬ç›˜</h2>
                <p class="lottery-subtitle">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹æŠ½å¥–</p>

                <div class="wheel-container">
                    <div class="wheel-pointer"></div>
                    <div class="wheel" id="wheel">
                        <div class="segment segment-1" style="--angle:0deg;--size:55deg;"><span>è°¢è°¢å‚ä¸</span></div>
                        <div class="segment segment-2" style="--angle:55deg;--size:55deg;"><span>å†æ¥å†å‰</span></div>
                        <div class="segment segment-3" style="--angle:110deg;--size:55deg;"><span>è°¢è°¢æƒ é¡¾</span></div>
                        <div class="segment segment-4" style="--angle:165deg;--size:55deg;"><span>å·®ä¸€ç‚¹</span></div>
                        <div class="segment segment-5" style="--angle:220deg;--size:50deg;"><span>å†æ¥ä¸€æ¬¡</span></div>
                        <div class="segment segment-6" style="--angle:270deg;--size:20deg;"><span>å¯çˆ±çš„ç‹å¤šé±¼</span></div>
                        <div class="segment segment-7" style="--angle:290deg;--size:40deg;"><span>è°¢è°¢æƒ é¡¾</span></div>
                        <div class="segment segment-8" style="--angle:330deg;--size:30deg;"><span>å·®ä¸€ç‚¹ç‚¹</span></div>
                    </div>
                    <div class="wheel-center">
                        <div class="wheel-center-text">ğŸ</div>
                    </div>
                </div>

                <div class="prize-result" id="prizeResult">
                    <div class="prize-result-text">ğŸ‰ æ­å–œä¸­å¥–ï¼šç‰¹ç­‰å¥–ï¼ğŸ‰</div>
                </div>
            </div>

            <div class="modal-footer">
                <button class="modal-button" id="lotteryButton">ç«‹å³æŠ½å¥–</button>
                <button class="modal-button claim-button" id="claimButton" style="display: none;">é¢†å–å¥–å“</button>
            </div>
        </div>
    </div>

    <!-- ä¸»å†…å®¹ -->
    <div class="content" id="content">
        <div class="image-container">
            <img src="qt.gif" alt="å›¾ç‰‡" class="prank-image">
        </div>
        <div class="message">
            <b>
                <p>æƒ³ä»€ä¹ˆå‘¢ï¼Ÿ</p>
                <p>ç¥ä½ å…‰æ£èŠ‚å¿«ä¹ğŸ¤£</p>
            </b>
        </div>
    </div>

    <!-- éŸ³é¢‘ä¿ç•™ -->
    <audio id="prankAudio" preload="auto">
        <source src="https://sf5-hl-cdn-tos.douyinstatic.com/obj/ies-music/7537318707513625363.mp3" type="audio/mpeg">
    </audio>

    <!-- å®‰å…¨åŠ è½½ JS -->
    <script>
    // å°è¯•åŠ è½½åŸæ¥çš„ script.js å’Œ 1.js
    function safeLoadJS(src) {
        return new Promise((resolve, reject) => {
            const script = document.createElement('script');
            script.src = src;
            script.onload = resolve;
            script.onerror = reject;
            document.body.appendChild(script);
        });
    }

    // ä¾æ¬¡åŠ è½½ JS æ–‡ä»¶
    safeLoadJS('script.js').catch(e => console.warn('script.js åŠ è½½å¤±è´¥:', e));
    safeLoadJS('1.js').catch(e => console.warn('1.js åŠ è½½å¤±è´¥:', e));

    // ç»™ç«‹å³æŠ½å¥–æŒ‰é’®ç»‘å®šå®‰å…¨å‡½æ•°
    document.getElementById('lotteryButton').addEventListener('click', function() {
        if (typeof startLottery === 'function') {
            startLottery();
        } else {
            alert('æŠ½å¥–åŠŸèƒ½æš‚ä¸å¯ç”¨ï¼ŒJS å°šæœªåŠ è½½ã€‚');
        }
    });

    // ç»™å…³é—­å¼¹çª—æŒ‰é’®ç»‘å®šå®‰å…¨å‡½æ•°
    document.getElementById('modalClose').addEventListener('click', function() {
        const modal = document.getElementById('modal');
        if (modal) modal.style.display = 'none';
    });
    </script>
</body>
</html>
